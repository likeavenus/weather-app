(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{1:function(e,t,a){e.exports={main:"Main__main___1jQaZ",main_container:"Main__main_container___yt5Eo",main_title:"Main__main_title___1lKV4",main__temp:"Main__main__temp___37ips",main_btn:"Main__main_btn___e0UmK",main_form:"Main__main_form___25GEM",main_select_text:"Main__main_select_text___H-sD-",main_input:"Main__main_input___1ovtp",main_weather:"Main__main_weather___ZoDYW"}},14:function(e,t,a){e.exports={App:"App__App___wmyqV"}},15:function(e,t,a){e.exports={header:"Header__header___3bMN6"}},17:function(e,t,a){e.exports={preloader:"Preloader__preloader___GtPa4"}},18:function(e,t,a){e.exports=a.p+"static/media/preloader.da1db289.svg"},22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(0),i=a.n(r),c=a(7),o=a.n(c),_=(a(27),a(14)),m=a.n(_),s=a(2),l=a(3),u=a(5),p=a(4),h=a(6),d=a(15),f=a.n(d),b=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("header",{className:f.a.header})}}]),t}(r.Component),w=a(10),y=a.n(w),E=a(16),v=a(1),g=a.n(v),O=a(17),j=a.n(O),C=a(18),x=a.n(C),N=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("img",{className:j.a.preloader,src:x.a,alt:""})}}]),t}(r.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getCelciusFromKelvin=function(e){return Math.round(e-273.15)},a.getWeather=function(){var e=Object(E.a)(y.a.mark((function e(t){var n,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t.trim()){e.next=16;break}return n="https://cors-anywhere.herokuapp.com/https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("ec6ad128cb27d3422ba0afa3f9df1389"),a.setState({city:"",temperature:"",weather:"",inputCity:"",icon:""}),e.next=5,fetch(n);case 5:if(!(r=e.sent).ok){e.next=15;break}return e.next=9,r.json();case 9:i=e.sent,console.log("[Data is ready]"),console.log(i),a.setState({city:i.name,temperature:a.getCelciusFromKelvin(i.main.temp),weather:i,icon:"http://openweathermap.org/img/wn/".concat(i.weather[0].icon,"@2x.png")}),e.next=16;break;case 15:a.getWeather("Saint Petersburg, RU");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeCity=function(e){a.setState({inputCity:e.target.value})},a.handleOnKeydown=function(e){13===e.keyCode&&a.getWeather(a.state.inputCity)},a.state={city:"",weather:"",temperature:void 0,inputCity:"",icon:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getWeather("Saint Petersburg, RU")}},{key:"render",value:function(){var e=this,t=this.state,a=t.city,n=t.temperature,r=t.inputCity,c=t.weather,o=t.icon;i.a.createElement(N,null);return""===a?i.a.createElement(N,null):i.a.createElement("div",{className:g.a.main},i.a.createElement("div",{className:g.a.main_container},i.a.createElement("h1",{className:g.a.main_title},a),i.a.createElement("img",{src:o,alt:"icon"}),i.a.createElement("p",{className:g.a.main_weather},c.weather[0].main),i.a.createElement("p",{className:g.a.main__temp},n," \xb0C"),i.a.createElement("form",{onSubmit:function(e){e.preventDefault()},className:g.a.main_form,action:""},i.a.createElement("p",{className:g.a.main_select_text},"Show another city:"),i.a.createElement("input",{onKeyDown:function(t){e.handleOnKeydown(t)},placeholder:"city",className:g.a.main_input,onChange:function(t){e.handleChangeCity(t)},type:"text",id:"city",name:"city",value:r}),i.a.createElement("button",{className:g.a.main_btn,type:"button",onClick:function(){e.getWeather(r)}},"Find"))))}}]),t}(r.Component);var M=function(){return i.a.createElement("div",{className:m.a.App},i.a.createElement(b,null),i.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(8),D=a(20),W=[],K=Object(S.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;arguments.length>1&&arguments[1];return Object(n.a)(e)}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(i.a.createElement(D.a,{store:K},i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.e672c8cb.chunk.js.map